{% extends "base.html" %}

{% block content %}
</br>

<form method="get">
  <input type="text" name="ename" placeholder="Enter Employee Name" value="{{ request.GET.ename }}">
  <button type="submit">Search</button>
</form>

</br>

<table class="table table-striped table-bordered table-sm">
  <thead class="thead-dark">
    <tr>
      <th>Employee ID</th>
      <th>Employee Name</th>
      <th>Employee Email</th>
      <th>Employee Contact</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for employee in employees %}
    <tr>
      <td>{{ employee.eid }}</td>
      <td>{{ employee.ename }}</td>
      <td>{{ employee.eemail }}</td>
      <td>{{ employee.econtact }}</td>
      <td>
        <a href="/employee/edit/{{ employee.id }}"
          ><span class="glyphicon glyphicon-pencil">Edit</span></a
        >
        <a href="/employee/delete/{{ employee.id }}">Delete</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<br />
<div class="pagination">
  <span class="step-links">
      {% if employees.has_previous %}
          <a href="?page=1">&laquo; first</a>
          <a href="?page={{ employees.previous_page_number }}">previous</a>
      {% endif %}
      
      <span class="current-page">
          Page {{ employees.number }} of {{ employees.paginator.num_pages }}.
      </span>
      
      {% if employees.has_next %}
          <a href="?page={{ employees.next_page_number }}">next</a>
          <a href="?page={{ employees.paginator.num_pages }}">last &raquo;</a>
      {% endif %}
  </span>
</div>

<br />



<div style="text-align: center;">
  <a href="/employee/emp" class="btn btn-primary" style="margin-right: 10px;">Add New Record</a>
  <a href="/employee/export" class="btn btn-primary" style="margin-right: 10px;">Export CSV</a>
  <a href="/employee/exportpdf" class="btn btn-primary">Export PDF</a>
</div>

{% endblock %}
